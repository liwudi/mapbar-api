<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7">
    <title>自定义窗口</title>
    <meta name="description" content="根据需求:自定义信息窗口">
    <style type="text/css">
        html, body, #mapDiv {
            margin: 0; padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }
        .customBubble{
            position:absolute;
            width:256px;
            height:auto;
            padding: 5px;
            margin-top: 110px;
            margin-left: -280px;
            background:white;
            box-sizing: border-box;
            box-shadow: 1px 2px 1px rgba(0,0,0,.35);
            border-radius: 4px
        }
        .customBubble .title{

            font-size: 14px;
            line-height: 35px;
            border-bottom: 1px solid #CCCCCC;
        }

        .customBubble .content{
            /*控制内容区域*/
            padding: 5px;
            font-size: 12px;
            color: #333333
        }
        .customBubble .arrow {
            width: 0;
            height: 0;
            border-left: 5px solid transparent;
            border-right: 5px solid transparent;
            border-top: 8px solid white;
            position: absolute;
            margin-top:5px;
            margin-left:120px;

        }
    </style>
</head>
<body>
<div id="mapDiv" ></div>

<!-- 自定义气泡Dom结构 -->
<div id="customBubble" class="customBubble">

    <div class="title">自定义标题</div>
    <div class="content">
        自定义内容...

    </div>
    <div class="arrow"></div>
</div>

<script type="text/javascript" src="http://api.mapbar.com/api/mapbard31.3.js"></script>
<script type="text/javascript">


    function initMap() {
        maplet = new Maplet("mapDiv");
        maplet.centerAndZoom(new MPoint('116.404, 39.915'), 15);
        maplet.addControl(new MStandardControl());
    };

    //自定义气泡
    function initBubble() {
        var bubbleDom = document.getElementById("customBubble");
        var options = {
            pin: true,//是否和地图移动
            zindex: 6,//大于1才可见
            content: bubbleDom,//显示内容
            location:{pt: new MPoint(116.404, 39.915)}//地理坐标点
        };
        Panel = new MPanel(options);
        maplet.addPanel(Panel);//自定义信息窗口
    }

    window.onload = function() {
        initMap();
        initBubble();
    };
</script>
</body>
</html>